[ç¾å›¢ä¸€é¢ï¼šèŠèŠMySQLçš„ä¸ƒç§æ—¥å¿—](https://mp.weixin.qq.com/s/IWdqFq9ZtWug-M5pWxPCUQ)

![å›¾ç‰‡](assets/640.png)

æœ€è¿‘ï¼Œä¸€ä½å°ä¼™ä¼´é¢è¯•äº† ç¾å›¢ï¼Œé‡åˆ°äº†ä¸€ä¸ª MySQL æ—¥å¿—çš„é¢è¯•é¢˜ï¼š

**èŠèŠï¼ŒMySQLä¸ƒç§æ—¥å¿— ã€‚**

å¯æƒœï¼Œè¿™ä¸ªå°ä¼™åªèƒ½è¯´å‡ºå…¶ä¸­çš„4ä¸­ï¼Œå…¶ä»–çš„3ç§æ²¡æœ‰ç­”ä¸Šæ¥ï¼Œ

**æ‰€ä»¥ï¼Œ å¯¼è‡´ä»–ä¸€é¢æŒ‚äº†ï¼Œéå¸¸å¯æƒœ**

ä»¥ä¸Šé¢˜ç›®ä»¥ç­”æ¡ˆï¼Œæ”¶å…¥æœ€æ–°çš„ 4000é¡µçš„ ã€Šå°¼æ©Javaé¢è¯•å®å…¸ã€‹PDFï¼Œä¾›åé¢çš„å°ä¼™ä¼´å‚è€ƒ

## MySQLçš„ä¸ƒç§æ—¥å¿— é¢è¯•é¢˜çš„å‡ºç°å½¢å¼ï¼š

-   èŠèŠï¼ŒMySQLçš„ä¸ƒç§æ—¥å¿—
    
-   èŠèŠï¼ŒMySQLçš„æ—¥å¿—æœ‰å“ªäº›ï¼Œå…·ä½“çš„åŠŸèƒ½å’Œä½œç”¨å¦‚ä½•
    

## ä¸ƒç§æ—¥å¿— å‚è€ƒç­”æ¡ˆ

-   **é”™è¯¯æ—¥å¿—ï¼ˆerror logï¼‰**
    

error logä¸»è¦è®°å½•MySQLåœ¨å¯åŠ¨ã€å…³é—­æˆ–è€…è¿è¡Œè¿‡ç¨‹ä¸­çš„é”™è¯¯ä¿¡æ¯ï¼Œåœ¨MySQLçš„é…ç½®æ–‡ä»¶my.cnfä¸­ï¼Œ

å¯ä»¥é€šè¿‡log-error=/var/log/mysqld.log æ‰§è¡Œmysqlé”™è¯¯æ—¥å¿—çš„ä½ç½®ã€‚

-   **æ…¢æŸ¥è¯¢æ—¥å¿—ï¼ˆslow query logï¼‰**
    
-   MySQLçš„æ…¢æŸ¥è¯¢æ—¥å¿—æ˜¯MySQLæä¾›çš„ä¸€ç§æ—¥å¿—è®°å½•ï¼Œå®ƒç”¨æ¥è®°å½•åœ¨MySQLä¸­å“åº”æ—¶é—´è¶…è¿‡é˜€å€¼çš„è¯­å¥ï¼Œå…·ä½“æŒ‡è¿è¡Œæ—¶é—´è¶…è¿‡long\_query\_timeå€¼çš„SQLï¼Œåˆ™ä¼šè¢«è®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­ã€‚
    
-   å…·ä½“æŒ‡è¿è¡Œæ—¶é—´è¶…è¿‡long\_query\_timeå€¼çš„SQLï¼Œåˆ™ä¼šè¢«è®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­ã€‚long\_query\_timeçš„é»˜è®¤å€¼ä¸º10ï¼Œæ„æ€æ˜¯è¿è¡Œ10ç§’ä»¥ä¸Šçš„è¯­å¥ã€‚
    
-   ç”±ä»–æ¥æŸ¥çœ‹å“ªäº›SQLè¶…å‡ºäº†æˆ‘ä»¬çš„æœ€å¤§å¿è€æ—¶é—´å€¼ï¼Œæ¯”å¦‚ä¸€æ¡sqlæ‰§è¡Œè¶…è¿‡5ç§’é’Ÿï¼Œæˆ‘ä»¬å°±ç®—æ…¢SQLï¼Œå¸Œæœ›èƒ½æ”¶é›†è¶…è¿‡5ç§’çš„sqlï¼Œç»“åˆä¹‹å‰explainè¿›è¡Œå…¨é¢åˆ†æ
    
-   åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¦‚æœè¦æ‰‹å·¥åˆ†ææ—¥å¿—ï¼ŒæŸ¥æ‰¾ã€åˆ†æSQLï¼Œæ˜¾ç„¶æ˜¯ä¸ªä½“åŠ›æ´»ï¼ŒMySQLæä¾›äº†æ—¥å¿—åˆ†æå·¥å…·mysqldumpslowã€‚
    
-   **ä¸€èˆ¬æŸ¥è¯¢æ—¥å¿—ï¼ˆgeneral logï¼‰**
    

general log è®°å½•äº†å®¢æˆ·ç«¯è¿æ¥ä¿¡æ¯ä»¥åŠæ‰§è¡Œçš„SQLè¯­å¥ä¿¡æ¯ï¼ŒåŒ…æ‹¬å®¢æˆ·ç«¯ä½•æ—¶è¿æ¥äº†æœåŠ¡å™¨ã€å®¢æˆ·ç«¯å‘é€çš„æ‰€æœ‰`SQL`ä»¥åŠå…¶ä»–äº‹ä»¶ï¼Œæ¯”å¦‚ `MySQL` æœåŠ¡å¯åŠ¨å’Œå…³é—­ç­‰ç­‰ã€‚

-   **é‡å†™æ—¥å¿—ï¼ˆredo logï¼‰**
    
    **redo log** å±äºMySQLå­˜å‚¨å¼•æ“**InnoDB**çš„äº‹åŠ¡æ—¥å¿—ã€‚
    
-   **å›æ»šæ—¥å¿—ï¼ˆundo logï¼‰**
    
    **undo log**å±äºé€»è¾‘æ—¥å¿—ï¼Œå¦‚å…¶åä¸»è¦èµ·åˆ°å›æ»šçš„ä½œç”¨ï¼Œå®ƒæ˜¯ä¿è¯äº‹åŠ¡åŸå­æ€§çš„å…³é”®ã€‚
    
-   **äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆbin logï¼‰**
    
    **bin log**æ˜¯ä¸€ç§æ•°æ®åº“Serverå±‚ï¼ˆå’Œä»€ä¹ˆå¼•æ“æ— å…³ï¼‰ï¼Œä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨åœ¨ç£ç›˜ä¸­çš„é€»è¾‘æ—¥å¿—ã€‚
    

## ä¸ƒç§æ—¥å¿—çš„è¯¦ç»†åˆ†æ

è¿›å…¥æ­£é¢˜å‰ï¼Œå¯ä»¥å…ˆç®€å•ä»‹ç»ä¸€ä¸‹ï¼ŒMySQLçš„é€»è¾‘æ¶æ„ï¼Œ

![å›¾ç‰‡](assets/640-1678809815698-33.png)

MySQLçš„é€»è¾‘æ¶æ„å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰å±‚ï¼š

-   ç¬¬ä¸€å±‚ï¼šå¤„ç†å®¢æˆ·ç«¯è¿æ¥ã€æˆæƒè®¤è¯ï¼Œå®‰å…¨æ ¡éªŒç­‰ã€‚
    
-   ç¬¬äºŒå±‚ï¼šæœåŠ¡å™¨`server`å±‚ï¼Œè´Ÿè´£å¯¹SQLè§£é‡Šã€åˆ†æã€ä¼˜åŒ–ã€æ‰§è¡Œæ“ä½œå¼•æ“ç­‰ã€‚
    
-   ç¬¬ä¸‰å±‚ï¼šå­˜å‚¨å¼•æ“ï¼Œè´Ÿè´£MySQLä¸­æ•°æ®çš„å­˜å‚¨å’Œæå–ã€‚
    

æˆ‘ä»¬è¦çŸ¥é“MySQLçš„æœåŠ¡å™¨å±‚æ˜¯ä¸ç®¡ç†äº‹åŠ¡çš„ï¼Œäº‹åŠ¡æ˜¯ç”±å­˜å‚¨å¼•æ“å®ç°çš„ï¼Œ

è€ŒMySQLä¸­æ”¯æŒäº‹åŠ¡çš„å­˜å‚¨å¼•æ“åˆå±`InnoDB`ä½¿ç”¨çš„æœ€ä¸ºå¹¿æ³›ï¼Œ

æ‰€ä»¥åç»­æ–‡ä¸­æåˆ°çš„å­˜å‚¨å¼•æ“éƒ½ä»¥`InnoDB`ä¸ºä¸»ã€‚

è€Œä¸”ï¼Œå¯ä»¥å†ç®€å•ä»‹ç»ä¸€ä¸‹ï¼ŒMySQLæ•°æ®æ›´æ–°æµç¨‹ï¼Œä½œä¸ºé“ºå«ï¼Œå…·ä½“å¦‚ä¸‹å›¾ï¼š

![å›¾ç‰‡](assets/640-1678809815698-34.png)

### 1ã€redo logï¼ˆé‡åšæ—¥å¿—ï¼‰

**redo log** å±äºMySQLå­˜å‚¨å¼•æ“**InnoDB**çš„äº‹åŠ¡æ—¥å¿—ã€‚

MySQLå¦‚ä½•å‡å°‘ç£ç›˜IOå‘¢ï¼Ÿ

å¦‚æœæ¯æ¬¡è¯»å†™æ•°æ®éƒ½éœ€åšç£ç›˜IOæ“ä½œï¼Œå¦‚æœå¹¶å‘åœºæ™¯ä¸‹æ€§èƒ½å°±ä¼šå¾ˆå·®ã€‚MySQLæä¾›äº†ä¸€ä¸ªä¼˜åŒ–æ‰‹æ®µï¼Œå¼•å…¥ç¼“å­˜**Buffer Pool**ã€‚

**Buffer Pool**ç¼“å­˜ä¸­åŒ…å«äº†ç£ç›˜ä¸­**éƒ¨åˆ†**æ•°æ®é¡µï¼ˆ**page**ï¼‰çš„æ˜ å°„ï¼Œä»¥æ­¤æ¥ç¼“è§£æ•°æ®åº“çš„ç£ç›˜å‹åŠ›ã€‚

æœ‰äº†**Buffer Pool**ç¼“å­˜åï¼Œè¯»å–æ•°æ®å…ˆç¼“å­˜å†ç£ç›˜ï¼Œé¦–å…ˆä»ç¼“å­˜ä¸­è¯»å–ï¼Œå¦‚æœç¼“å­˜ä¸­æ²¡æœ‰ï¼Œåˆ™ä»ç£ç›˜è¯»å–åæ”¾å…¥ç¼“å­˜ï¼›

å†™å…¥æ•°æ®ä¹Ÿæ˜¯å…ˆç¼“å­˜å†ç£ç›˜ï¼Œå…ˆå‘ç¼“å­˜å†™å…¥ï¼Œæ­¤æ—¶ç¼“å­˜ä¸­çš„æ•°æ®é¡µæ•°æ®å˜æ›´ï¼Œè¿™ä¸ªæ•°æ®é¡µç§°ä¸º**è„é¡µ**ï¼Œ**MYSQL**ä¼šæŒ‰ç…§è®¾å®šçš„æ›´æ–°ç­–ç•¥ï¼Œå°†è„Pageé¡µå®šæœŸåˆ·åˆ°ç£ç›˜ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º**åˆ·è„é¡µ**ã€‚

#### 1.1 redo logå¦‚ä½•ä¿è¯æ•°æ®ä¸ä¸¢å¤± ï¼Œå®ç°é«˜å¯é ï¼Œå®ç°äº‹åŠ¡æŒä¹…æ€§ ï¼Ÿ

å¦‚æœåˆ·è„é¡µè¿˜æœªå®Œæˆï¼Œå¯MySQLç”±äºæŸäº›åŸå› å®•æœºé‡å¯ï¼Œæ­¤æ—¶**Buffer Pool**ä¸­ä¿®æ”¹çš„æ•°æ®è¿˜æ²¡æœ‰åŠæ—¶çš„åˆ·åˆ°ç£ç›˜ä¸­ï¼Œå°±ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œæ— æ³•ä¿è¯äº‹åŠ¡çš„æŒä¹…æ€§ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å¼•å…¥äº†**redo log**ï¼Œredo Logå¦‚å…¶åä¾§é‡äºé‡åšï¼

å®ƒè®°å½•çš„æ˜¯æ•°æ®åº“ä¸­**æ¯ä¸ªé¡µ**çš„ä¿®æ”¹ï¼Œè€Œä¸æ˜¯æŸä¸€è¡Œæˆ–æŸå‡ è¡Œä¿®æ”¹æˆæ€æ ·ï¼Œå¯ä»¥ç”¨æ¥æ¢å¤æäº¤åçš„ç‰©ç†æ•°æ®é¡µï¼Œä¸”åªèƒ½æ¢å¤åˆ°æœ€åä¸€æ¬¡æäº¤çš„ä½ç½®ã€‚

**redo log**ç”¨åˆ°äº†**WAL**ï¼ˆWrite-Ahead Loggingï¼‰æŠ€æœ¯ï¼Œè¿™ä¸ªæŠ€æœ¯çš„æ ¸å¿ƒå°±åœ¨äºä¿®æ”¹è®°å½•å‰ï¼Œä¸€å®šè¦å…ˆå†™æ—¥å¿—ï¼Œå¹¶ä¿è¯æ—¥å¿—å…ˆè½ç›˜ï¼Œæ‰èƒ½ç®—äº‹åŠ¡æäº¤å®Œæˆã€‚

æœ‰äº†**redo log**å†ä¿®æ”¹æ•°æ®æ—¶ï¼ŒInnoDBå¼•æ“ä¼šæŠŠæ›´æ–°è®°å½•å…ˆå†™åœ¨redo logä¸­ï¼Œå†ä¿®æ”¹**Buffer Pool**ä¸­çš„æ•°æ®ï¼Œ

å½“æäº¤äº‹åŠ¡æ—¶ï¼Œè°ƒç”¨**fsync**æŠŠredo logåˆ·å…¥ç£ç›˜ã€‚

è‡³äºç¼“å­˜ä¸­æ›´æ–°çš„æ•°æ®æ–‡ä»¶ä½•æ—¶åˆ·å…¥ç£ç›˜ï¼Œåˆ™ç”±åå°çº¿ç¨‹å¼‚æ­¥å¤„ç†ã€‚

**æ³¨æ„**ï¼šæ­¤æ—¶redo logçš„äº‹åŠ¡çŠ¶æ€æ˜¯**prepare**ï¼Œè¿˜æœªçœŸæ­£æäº¤æˆåŠŸï¼Œè¦ç­‰**bin log**æ—¥å¿—å†™å…¥ç£ç›˜å®Œæˆæ‰ä¼šå˜æ›´ä¸º**commit**ï¼Œäº‹åŠ¡æ‰ç®—çœŸæ­£æäº¤å®Œæˆã€‚

è¿™æ ·ä¸€æ¥å³ä½¿åˆ·è„é¡µä¹‹å‰MySQLæ„å¤–å®•æœºä¹Ÿæ²¡å…³ç³»ï¼Œåªè¦åœ¨é‡å¯æ—¶è§£æredo logä¸­çš„æ›´æ”¹è®°å½•è¿›è¡Œé‡æ”¾ï¼Œé‡æ–°åˆ·ç›˜å³å¯ã€‚

#### 1.2 redo log å¤§å°å›ºå®š

redo logé‡‡ç”¨å›ºå®šå¤§å°ï¼Œå¾ªç¯å†™å…¥çš„æ ¼å¼ï¼Œå½“redo logå†™æ»¡ä¹‹åï¼Œé‡æ–°ä»å¤´å¼€å§‹å¦‚æ­¤å¾ªç¯å†™ï¼Œå½¢æˆä¸€ä¸ªç¯çŠ¶ã€‚

é‚£ä¸ºä»€ä¹ˆè¦å¦‚æ­¤è®¾è®¡å‘¢ï¼Ÿ

å› ä¸ºredo logè®°å½•çš„æ˜¯æ•°æ®é¡µä¸Šçš„ä¿®æ”¹ï¼Œå¦‚æœ**Buffer Pool**ä¸­æ•°æ®é¡µå·²ç»åˆ·ç£ç›˜åï¼Œé‚£è¿™äº›è®°å½•å°±å¤±æ•ˆäº†ï¼Œæ–°æ—¥å¿—ä¼šå°†è¿™äº›å¤±æ•ˆçš„è®°å½•è¿›è¡Œè¦†ç›–æ“¦é™¤ã€‚

![å›¾ç‰‡](assets/640-1678809815698-35.png)

ä¸Šå›¾ä¸­çš„**write pos**è¡¨ç¤ºredo logå½“å‰è®°å½•çš„æ—¥å¿—åºåˆ—å·**LSN**(log sequence number)ï¼Œå†™å…¥è¿˜æœªåˆ·ç›˜ï¼Œå¾ªç¯å¾€åé€’å¢ï¼›

**check point**è¡¨ç¤ºredo logä¸­çš„ä¿®æ”¹è®°å½•å·²åˆ·å…¥ç£ç›˜åçš„LSNï¼Œå¾ªç¯å¾€åé€’å¢ï¼Œè¿™ä¸ªLSNä¹‹å‰çš„æ•°æ®å·²ç»å…¨è½ç›˜ã€‚

**write pos**åˆ°**check point**ä¹‹é—´çš„éƒ¨åˆ†æ˜¯redo logç©ºä½™çš„éƒ¨åˆ†ï¼ˆç»¿è‰²ï¼‰ï¼Œç”¨æ¥è®°å½•æ–°çš„æ—¥å¿—ï¼›

**check point**åˆ°**write pos**ä¹‹é—´æ˜¯redo logå·²ç»è®°å½•çš„æ•°æ®é¡µä¿®æ”¹æ•°æ®ï¼Œæ­¤æ—¶æ•°æ®é¡µè¿˜æœªåˆ·å›ç£ç›˜çš„éƒ¨åˆ†ã€‚

å½“**write pos**è¿½ä¸Š**check point**æ—¶ï¼Œä¼šå…ˆæ¨åŠ¨**check point**å‘å‰ç§»åŠ¨ï¼Œç©ºå‡ºä½ç½®ï¼ˆåˆ·ç›˜ï¼‰å†è®°å½•æ–°çš„æ—¥å¿—ã€‚

> **æ³¨æ„**ï¼šredo logæ—¥å¿—æ»¡äº†ï¼Œåœ¨æ“¦é™¤ä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿è¿™äº›è¦è¢«æ“¦é™¤è®°å½•å¯¹åº”åœ¨å†…å­˜ä¸­çš„æ•°æ®é¡µéƒ½å·²ç»åˆ·åˆ°ç£ç›˜ä¸­äº†ã€‚æ“¦é™¤æ—§è®°å½•è…¾å‡ºæ–°ç©ºé—´è¿™æ®µæœŸé—´ï¼Œæ˜¯ä¸èƒ½å†æ¥æ”¶æ–°çš„æ›´æ–°è¯·æ±‚çš„ï¼Œæ­¤åˆ»MySQLçš„æ€§èƒ½ä¼šä¸‹é™ã€‚æ‰€ä»¥åœ¨å¹¶å‘é‡å¤§çš„æƒ…å†µä¸‹ï¼Œåˆç†è°ƒæ•´redo logçš„æ–‡ä»¶å¤§å°éå¸¸é‡è¦ã€‚

#### 1.3 crash-safe

å› ä¸ºredo logçš„å­˜åœ¨ä½¿å¾—**Innodb**å¼•æ“å…·æœ‰äº†**crash-safe**çš„èƒ½åŠ›ï¼Œå³MySQLå®•æœºé‡å¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å»æ£€æŸ¥redo logï¼Œå°†ä¿®æ”¹è¿˜æœªå†™å…¥ç£ç›˜çš„æ•°æ®ä»redo logæ¢å¤åˆ°MySQLä¸­ã€‚

MySQLå¯åŠ¨æ—¶ï¼Œä¸ç®¡ä¸Šæ¬¡æ˜¯æ­£å¸¸å…³é—­è¿˜æ˜¯å¼‚å¸¸å…³é—­ï¼Œæ€»æ˜¯ä¼šè¿›è¡Œæ¢å¤æ“ä½œã€‚

ä¼šå…ˆæ£€æŸ¥æ•°æ®é¡µä¸­çš„**LSN**ï¼Œå¦‚æœè¿™ä¸ª LSN å°äº redo log ä¸­çš„LSNï¼Œå³**write pos**ä½ç½®ï¼Œè¯´æ˜åœ¨**redo log**ä¸Šè®°å½•ç€æ•°æ®é¡µä¸Šå°šæœªå®Œæˆçš„æ“ä½œï¼Œæ¥ç€å°±ä¼šä»æœ€è¿‘çš„ä¸€ä¸ª**check point**å‡ºå‘ï¼Œå¼€å§‹åŒæ­¥æ•°æ®ã€‚

ç®€å•ç†è§£ï¼Œæ¯”å¦‚ï¼šredo logçš„**LSN**æ˜¯500ï¼Œæ•°æ®é¡µçš„`LSN`æ˜¯300ï¼Œè¡¨æ˜é‡å¯å‰æœ‰éƒ¨åˆ†æ•°æ®æœªå®Œå…¨åˆ·å…¥åˆ°ç£ç›˜ä¸­ï¼Œé‚£ä¹ˆç³»ç»Ÿåˆ™å°†redo logä¸­**LSN**åºå·300åˆ°500çš„è®°å½•è¿›è¡Œé‡æ”¾åˆ·ç›˜ã€‚

![å›¾ç‰‡](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### 2\. undo logï¼ˆå›æ»šæ—¥å¿—ï¼‰

**undo log**ä¹Ÿæ˜¯å±äºMySQLå­˜å‚¨å¼•æ“InnoDBçš„äº‹åŠ¡æ—¥å¿—ã€‚**undo log**å±äºé€»è¾‘æ—¥å¿—ï¼Œå¦‚å…¶åä¸»è¦èµ·åˆ°å›æ»šçš„ä½œç”¨ï¼Œå®ƒæ˜¯ä¿è¯äº‹åŠ¡åŸå­æ€§çš„å…³é”®ã€‚

undo log æ˜¯innodbå¼•æ“çš„ä¸€ç§æ—¥å¿—ï¼Œåœ¨äº‹åŠ¡çš„ä¿®æ”¹è®°å½•ä¹‹å‰ï¼Œä¼šæŠŠè¯¥è®°å½•çš„åŸå€¼ï¼ˆbefore imageï¼‰å…ˆä¿å­˜èµ·æ¥å†åšä¿®æ”¹ï¼ŒåŸæ¥çš„å€¼å°±æ˜¯ undo logï¼Œä»¥ä¾¿ä¿®æ”¹è¿‡ç¨‹ä¸­å‡ºé”™èƒ½å¤Ÿ æ¢å¤åŸå€¼æˆ–è€…å…¶ä»–çš„äº‹åŠ¡ è¯»å–ã€‚

**undo log** ä½œç”¨ï¼š

1ã€ç”¨äºæ•°æ®çš„å›æ»šã€‚æ¯”å¦‚æ•°æ®æ‰§è¡Œæ—¶å€™å‘ç”Ÿé”™è¯¯ï¼Œæ“ä½œç³»ç»Ÿçš„é”™è¯¯ï¼Œæ–­ç‚¹ç­‰ï¼Œç¨‹åºå‘˜æ‰‹åŠ¨rollbackç­‰æ“ä½œåœºæ™¯éƒ½ä¼šç”¨åˆ°æ•°æ®çš„å›æ»šã€‚

2ã€å®ç°MVCCã€‚å³åœ¨InnoDBå­˜å‚¨å¼•æ“ä¸­MVCCçš„å®ç°æ˜¯é€šè¿‡undoæ¥å®Œæˆã€‚å½“ç”¨æˆ·è¯»å–ä¸€è¡Œè®°å½•æ—¶ï¼Œè‹¥è¯¥è®°å½•å·²ç»è¢«å…¶ä»–äº‹åŠ¡å ç”¨ï¼Œå½“å‰äº‹åŠ¡å¯ä»¥é€šè¿‡undoè¯»å–ä¹‹å‰çš„è¡Œç‰ˆæœ¬ä¿¡æ¯ï¼Œä»¥æ­¤å®ç°éé”å®šè¯»å–ã€‚

**undo log** æ—¥å¿—è®°å½•ç»†èŠ‚ï¼š

æ¯å½“æˆ‘ä»¬è¦å¯¹ä¸€æ¡è®°å½•åšæ”¹åŠ¨æ—¶(è¿™é‡Œçš„æ”¹åŠ¨å¯ä»¥æŒ‡INSERTã€DELETEã€UPDATE)ï¼Œéƒ½éœ€è¦"ç•™ä¸€æ‰‹"æŠŠå›æ»šæ—¶æ‰€éœ€çš„ä¸œè¥¿è®°ä¸‹æ¥ã€‚æ¯”å¦‚:

1ã€æ’å…¥ä¸€æ¡è®°å½•æ—¶ï¼Œè‡³å°‘è¦æŠŠè¿™æ¡è®°å½•çš„ä¸»é”®å€¼è®°ä¸‹æ¥ï¼Œä¹‹åå›æ»šçš„æ—¶å€™åªéœ€è¦æŠŠè¿™ä¸ªä¸»é”®å€¼å¯¹åº”çš„è®°å½•åˆ æ‰å°±å¥½äº†ã€‚(å¯¹äºæ¯ä¸ªINSERTï¼Œ InnoDBå­˜å‚¨å¼•æ“ä¼šå®Œæˆä¸€ä¸ªDELETE)

2ã€åˆ é™¤äº†ä¸€æ¡è®°å½•ï¼Œè‡³å°‘è¦æŠŠè¿™æ¡è®°å½•ä¸­çš„å†…å®¹éƒ½è®°ä¸‹æ¥ï¼Œè¿™æ ·ä¹‹åå›æ»šæ—¶å†æŠŠç”±è¿™äº›å†…å®¹ç»„æˆçš„è®°å½•æ’å…¥åˆ°è¡¨ä¸­å°±å¥½äº†ã€‚(å¯¹äºæ¯ä¸ªDELETE,InnoDBå­˜å‚¨å¼•æ“ä¼šæ‰§è¡Œä¸€ä¸ªINSERT)

3ã€ä¿®æ”¹äº†ä¸€æ¡è®°å½•ï¼Œè‡³å°‘è¦æŠŠä¿®æ”¹è¿™æ¡è®°å½•å‰çš„æ—§å€¼éƒ½è®°å½•ä¸‹æ¥ï¼Œè¿™æ ·ä¹‹åå›æ»šæ—¶å†æŠŠè¿™æ¡è®°å½•æ›´æ–°ä¸ºæ—§å€¼å°±å¥½äº†ã€‚(å¯¹äºæ¯ä¸ªUPDATEï¼ŒInnoDBå­˜å‚¨å¼•æ“ä¼šæ‰§è¡Œä¸€ä¸ªç›¸åçš„UPDATEï¼Œå°†ä¿®æ”¹å‰çš„è¡Œæ”¾å›å»)

é‚£å¯èƒ½æœ‰äººä¼šé—®ï¼šåŒä¸€ä¸ªäº‹ç‰©å†…çš„ä¸€æ¡è®°å½•è¢«å¤šæ¬¡ä¿®æ”¹ï¼Œé‚£æ˜¯ä¸æ˜¯æ¯æ¬¡éƒ½è¦æŠŠæ•°æ®ä¿®æ”¹å‰çš„çŠ¶æ€éƒ½å†™å…¥**undo log**å‘¢ï¼Ÿ

ç­”æ¡ˆæ˜¯ä¸ä¼šçš„ï¼

**undo log**åªè´Ÿè´£è®°å½•äº‹åŠ¡å¼€å§‹å‰è¦ä¿®æ”¹æ•°æ®çš„åŸå§‹ç‰ˆæœ¬ï¼Œå½“æˆ‘ä»¬å†æ¬¡å¯¹è¿™è¡Œæ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œæ‰€äº§ç”Ÿçš„ä¿®æ”¹è®°å½•ä¼šå†™å…¥åˆ°**redo log**ï¼Œ**undo log**è´Ÿè´£å®Œæˆå›æ»šï¼Œ**redo log**è´Ÿè´£å®Œæˆå‰æ»šã€‚

**å›æ»šå’Œå‰æ»šçš„åŒºåˆ«**

#### 2.1 å›æ»š

æœªæäº¤çš„äº‹åŠ¡ï¼Œå³äº‹åŠ¡æœªæ‰§è¡Œ`commit`ã€‚

ä½†è¯¥äº‹åŠ¡å†…ä¿®æ”¹çš„è„é¡µä¸­ï¼Œå¯èƒ½æœ‰ä¸€éƒ¨åˆ†è„å—å·²ç»åˆ·ç›˜ã€‚

å¦‚æœæ­¤æ—¶æ•°æ®åº“å®ä¾‹å®•æœºé‡å¯ï¼Œå°±éœ€è¦ç”¨å›æ»šæ¥å°†å…ˆå‰é‚£éƒ¨åˆ†å·²ç»åˆ·ç›˜çš„è„å—ä»ç£ç›˜ä¸Šæ’¤é”€ã€‚

#### 2.2 å‰æ»š

æœªå®Œå…¨æäº¤çš„äº‹åŠ¡ï¼Œå³äº‹åŠ¡å·²ç»æ‰§è¡Œ**commit**ï¼Œä½†è¯¥äº‹åŠ¡å†…ä¿®æ”¹çš„è„é¡µä¸­åªæœ‰ä¸€éƒ¨åˆ†æ•°æ®è¢«åˆ·ç›˜ï¼Œå¦å¤–ä¸€éƒ¨åˆ†è¿˜åœ¨**buffer pool**ç¼“å­˜ä¸Šï¼Œ

å¦‚æœæ­¤æ—¶æ•°æ®åº“å®ä¾‹å®•æœºé‡å¯ï¼Œå°±éœ€è¦ç”¨å‰æ»šæ¥å®Œæˆæœªå®Œå…¨æäº¤çš„äº‹åŠ¡ã€‚

å°†å…ˆå‰é‚£éƒ¨åˆ†ç”±äºå®•æœºåœ¨å†…å­˜ä¸Šçš„æœªæ¥å¾—åŠåˆ·ç›˜æ•°æ®ï¼Œä»**redo log**ä¸­æ¢å¤å‡ºæ¥å¹¶åˆ·å…¥ç£ç›˜ã€‚

> æ•°æ®åº“å®ä¾‹æ¢å¤æ—¶ï¼Œå…ˆåšå‰æ»šï¼Œååšå›æ»šã€‚

**undo logã€redo logã€bin log**ä¸‰ç§æ—¥å¿—éƒ½æ˜¯åœ¨åˆ·è„é¡µä¹‹å‰å°±å·²ç»åˆ·åˆ°ç£ç›˜äº†çš„ï¼Œ

ä¸‰ç§æ—¥å¿—ï¼Œç›¸äº’åä½œæœ€å¤§é™åº¦ä¿è¯äº†ç”¨æˆ·æäº¤çš„æ•°æ®ä¸ä¸¢å¤±ã€‚

### 3\. bin logï¼ˆå½’æ¡£æ—¥å¿—ï¼‰

**bin log**æ˜¯ä¸€ç§æ•°æ®åº“Serverå±‚ï¼ˆå’Œä»€ä¹ˆå¼•æ“æ— å…³ï¼‰ï¼Œä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨åœ¨ç£ç›˜ä¸­çš„é€»è¾‘æ—¥å¿—ã€‚

**bin log**è®°å½•äº†æ•°æ®åº“æ‰€æœ‰`DDL`å’Œ`DML`æ“ä½œï¼ˆä¸åŒ…å« `SELECT` å’Œ `SHOW`ç­‰å‘½ä»¤ï¼Œå› ä¸ºè¿™ç±»æ“ä½œå¯¹æ•°æ®æœ¬èº«å¹¶æ²¡æœ‰ä¿®æ”¹ï¼‰ã€‚

**1ã€MySQLçš„äºŒè¿›åˆ¶æ—¥å¿—binlogå¯ä»¥è¯´æ˜¯MySQLæœ€é‡è¦çš„æ—¥å¿—ï¼Œå®ƒè®°å½•äº†æ‰€æœ‰çš„DDLå’ŒDMLè¯­å¥ï¼ˆé™¤äº†æ•°æ®æŸ¥è¯¢è¯­å¥selectï¼‰,ä»¥äº‹ä»¶å½¢å¼è®°å½•ï¼Œè¿˜åŒ…å«è¯­å¥æ‰€æ‰§è¡Œçš„æ¶ˆè€—çš„æ—¶é—´ï¼ŒMySQLçš„äºŒè¿›åˆ¶æ—¥å¿—æ˜¯äº‹åŠ¡å®‰å…¨å‹çš„ã€‚**

aã€DDLï¼šData Definition Language æ•°æ®åº“å®šä¹‰è¯­è¨€ 

ä¸»è¦çš„å‘½ä»¤æœ‰createã€alterã€dropç­‰ï¼Œddlä¸»è¦æ˜¯ç”¨åœ¨å®šä¹‰æˆ–æ”¹å˜è¡¨(table)çš„ç»“æ„,æ•°æ®ç±»å‹ï¼Œè¡¨ä¹‹é—´çš„è¿æ¥å’Œçº¦æŸç­‰åˆå§‹å·¥ä½œä¸Šï¼Œä»–ä»¬å¤§å¤šåœ¨å»ºè¡¨æ—¶å€™ä½¿ç”¨ã€‚

bã€DMLï¼šData Manipulation Language æ•°æ®æ“çºµè¯­è¨€

ä¸»è¦å‘½ä»¤æ˜¯slect,update,insert,delete,å°±åƒå®ƒçš„åå­—ä¸€æ ·ï¼Œè¿™4æ¡å‘½ä»¤æ˜¯ç”¨æ¥å¯¹æ•°æ®åº“é‡Œçš„æ•°æ®è¿›è¡Œæ“ä½œçš„è¯­è¨€

**2ã€mysqlbinlogå¸¸è§çš„é€‰é¡¹æœ‰ä¸€ä¸‹å‡ ä¸ªï¼š**

aã€--start-datetimeï¼šä»äºŒè¿›åˆ¶æ—¥å¿—ä¸­è¯»å–æŒ‡å®šç­‰äºæ—¶é—´æˆ³æˆ–è€…æ™šäºæœ¬åœ°è®¡ç®—æœºçš„æ—¶é—´

bã€--stop-datetimeï¼šä»äºŒè¿›åˆ¶æ—¥å¿—ä¸­è¯»å–æŒ‡å®šå°äºæ—¶é—´æˆ³æˆ–è€…ç­‰äºæœ¬åœ°è®¡ç®—æœºçš„æ—¶é—´ å–å€¼å’Œä¸Šè¿°ä¸€æ ·

cã€--start-positionï¼šä»äºŒè¿›åˆ¶æ—¥å¿—ä¸­è¯»å–æŒ‡å®šposition äº‹ä»¶ä½ç½®ä½œä¸ºå¼€å§‹ã€‚

dã€--stop-positionï¼šä»äºŒè¿›åˆ¶æ—¥å¿—ä¸­è¯»å–æŒ‡å®šposition äº‹ä»¶ä½ç½®ä½œä¸ºäº‹ä»¶æˆªè‡³

**3ã€ä¸€èˆ¬æ¥è¯´å¼€å¯binlogæ—¥å¿—å¤§æ¦‚ä¼šæœ‰1%çš„æ€§èƒ½æŸè€—ã€‚**

**4ã€binlogæ—¥å¿—æœ‰ä¸¤ä¸ªæœ€é‡è¦çš„ä½¿ç”¨åœºæ™¯ã€‚**

aã€mysqlä¸»ä»å¤åˆ¶ï¼šmysql replicationåœ¨masterç«¯å¼€å¯binlog,masteræŠŠå®ƒçš„äºŒè¿›åˆ¶æ—¥å¿—ä¼ é€’ç»™slavesæ¥è¾¾åˆ°master-slaveæ•°æ®ä¸€è‡´çš„ç›®çš„ã€‚

bã€æ•°æ®æ¢å¤ï¼šé€šè¿‡mysqlbinlogå·¥å…·æ¥æ¢å¤æ•°æ®ã€‚

**binlogæ—¥å¿—åŒ…æ‹¬ä¸¤ç±»æ–‡ä»¶ï¼š**

1)ã€äºŒè¿›åˆ¶æ—¥å¿—ç´¢å¼•æ–‡ä»¶(æ–‡ä»¶ååç¼€ä¸º.index)ç”¨äºè®°å½•æ‰€æœ‰çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚

2)ã€äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶(æ–‡ä»¶ååç¼€ä¸º.00000\*)è®°å½•æ•°æ®åº“æ‰€æœ‰çš„DDLå’ŒDML(é™¤äº†æ•°æ®æŸ¥è¯¢è¯­å¥select)è¯­å¥äº‹ä»¶ã€‚

å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹äºŒè¿›åˆ¶æ—¥å¿—æ˜¯å¦å¼€å¯ï¼š

```
mysql> SHOW VARIABLES LIKE 'log_bin';+---------------+-------+| Variable_name | Value |+---------------+-------+| log_bin       | OFF   |+---------------+-------+
```

**bin log**ä¹Ÿè¢«å«åš**å½’æ¡£æ—¥å¿—**ï¼Œå› ä¸ºå®ƒä¸ä¼šåƒ**redo log**é‚£æ ·å¾ªç¯å†™æ“¦é™¤ä¹‹å‰çš„è®°å½•ï¼Œè€Œæ˜¯ä¼šä¸€ç›´è®°å½•æ—¥å¿—ã€‚

ä¸€ä¸ª**bin log**æ—¥å¿—æ–‡ä»¶é»˜è®¤æœ€å¤§å®¹é‡`1G`ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡**max\_binlog\_size**å‚æ•°ä¿®æ”¹ï¼‰ï¼Œå•ä¸ªæ—¥å¿—è¶…è¿‡æœ€å¤§å€¼ï¼Œåˆ™ä¼šæ–°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ç»§ç»­å†™ã€‚

```
mysql> show binary logs;+-----------------+-----------+| Log_name        | File_size |+-----------------+-----------+| mysq-bin.000001 |      8687 || mysq-bin.000002 |      1445 || mysq-bin.000003 |      3966 || mysq-bin.000004 |       177 || mysq-bin.000005 |      6405 || mysq-bin.000006 |       177 || mysq-bin.000007 |       154 || mysq-bin.000008 |       154 |
```

**bin log**æ—¥å¿—çš„å†…å®¹æ ¼å¼å…¶å®å°±æ˜¯æ‰§è¡ŒSQLå‘½ä»¤çš„åå‘é€»è¾‘ï¼Œè¿™ç‚¹å’Œ**undo log**æœ‰ç‚¹ç±»ä¼¼ã€‚ä¸€èˆ¬æ¥è¯´å¼€å¯**bin log**éƒ½ä¼šç»™æ—¥å¿—æ–‡ä»¶è®¾ç½®è¿‡æœŸæ—¶é—´ï¼ˆ**expire\_logs\_days**å‚æ•°ï¼Œé»˜è®¤æ°¸ä¹…ä¿å­˜ï¼‰ï¼Œè¦ä¸ç„¶æ—¥å¿—çš„ä½“é‡ä¼šéå¸¸åºå¤§ã€‚

```
mysql> show variables like 'expire_logs_days';+------------------+-------+| Variable_name    | Value |+------------------+-------+| expire_logs_days | 0     |+------------------+-------+1 row in set mysql> SET GLOBAL expire_logs_days=30;Query OK, 0 rows affected
```

**bin log**ä¸»è¦åº”ç”¨äºMySQLä¸»ä»æ¨¡å¼ï¼ˆ**master-slave**ï¼‰ä¸­ï¼Œä¸»ä»èŠ‚ç‚¹é—´çš„æ•°æ®åŒæ­¥ï¼›ä»¥åŠåŸºäºæ—¶é—´ç‚¹çš„æ•°æ®è¿˜åŸã€‚

#### 3.1 ä¸»ä»åŒæ­¥

é€šè¿‡ä¸‹å›¾MySQLçš„ä¸»ä»å¤åˆ¶è¿‡ç¨‹ï¼Œæ¥äº†è§£ä¸‹**bin log**åœ¨ä¸»ä»æ¨¡å¼ä¸‹çš„åº”ç”¨ã€‚

![å›¾ç‰‡](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

-   ç”¨æˆ·åœ¨ä¸»åº“**master**æ‰§è¡Œ`DDL`å’Œ`DML`æ“ä½œï¼Œä¿®æ”¹è®°å½•é¡ºåºå†™å…¥**bin log**;
    
-   ä»åº“**slave**çš„I/Oçº¿ç¨‹è¿æ¥ä¸ŠMasterï¼Œå¹¶è¯·æ±‚è¯»å–æŒ‡å®šä½ç½®**position**çš„æ—¥å¿—å†…å®¹;
    
-   **Master**æ”¶åˆ°ä»åº“**slave**è¯·æ±‚åï¼Œå°†æŒ‡å®šä½ç½®**position**ä¹‹åçš„æ—¥å¿—å†…å®¹ï¼Œå’Œä¸»åº“bin logæ–‡ä»¶çš„åç§°ä»¥åŠåœ¨æ—¥å¿—ä¸­çš„ä½ç½®æ¨é€ç»™ä»åº“;
    
-   slaveçš„I/Oçº¿ç¨‹æ¥æ”¶åˆ°æ•°æ®åï¼Œå°†æ¥æ”¶åˆ°çš„æ—¥å¿—å†…å®¹ä¾æ¬¡å†™å…¥åˆ°**relay log**æ–‡ä»¶æœ€æœ«ç«¯ï¼Œå¹¶å°†è¯»å–åˆ°çš„ä¸»åº“bin logæ–‡ä»¶åå’Œä½ç½®**position**è®°å½•åˆ°**master-info**æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿åœ¨ä¸‹ä¸€æ¬¡è¯»å–ç”¨;
    
-   slaveçš„SQLçº¿ç¨‹æ£€æµ‹åˆ°**relay log**ä¸­å†…å®¹æ›´æ–°åï¼Œè¯»å–æ—¥å¿—å¹¶è§£ææˆå¯æ‰§è¡Œçš„SQLè¯­å¥ï¼Œè¿™æ ·å°±å®ç°äº†ä¸»ä»åº“çš„æ•°æ®ä¸€è‡´;
    

#### 3.2 åŸºäºæ—¶é—´ç‚¹è¿˜åŸ

æˆ‘ä»¬çœ‹åˆ°**bin log**ä¹Ÿå¯ä»¥åšæ•°æ®çš„æ¢å¤ï¼Œè€Œ**redo log**ä¹Ÿå¯ä»¥ï¼Œé‚£å®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

-   å±‚æ¬¡ä¸åŒï¼šredo log æ˜¯InnoDBå­˜å‚¨å¼•æ“å®ç°çš„ï¼Œbin log æ˜¯MySQLçš„æœåŠ¡å™¨å±‚å®ç°çš„ï¼Œä½†MySQLæ•°æ®åº“ä¸­çš„ä»»ä½•å­˜å‚¨å¼•æ“å¯¹äºæ•°æ®åº“çš„æ›´æ”¹éƒ½ä¼šäº§ç”Ÿbin logã€‚
    
-   ä½œç”¨ä¸åŒï¼šredo log ç”¨äºç¢°æ’æ¢å¤ï¼ˆ**crash recovery**ï¼‰ï¼Œä¿è¯MySQLå®•æœºä¹Ÿä¸ä¼šå½±å“æŒä¹…æ€§ï¼›bin log ç”¨äºæ—¶é—´ç‚¹æ¢å¤ï¼ˆ**point-in-time recovery**ï¼‰ï¼Œä¿è¯æœåŠ¡å™¨å¯ä»¥åŸºäºæ—¶é—´ç‚¹æ¢å¤æ•°æ®å’Œä¸»ä»å¤åˆ¶ã€‚
    
-   å†…å®¹ä¸åŒï¼šredo log æ˜¯ç‰©ç†æ—¥å¿—ï¼Œå†…å®¹åŸºäºç£ç›˜çš„é¡µ**Page**ï¼›bin logçš„å†…å®¹æ˜¯äºŒè¿›åˆ¶ï¼Œå¯ä»¥æ ¹æ®**binlog\_format**å‚æ•°è‡ªè¡Œè®¾ç½®ã€‚
    
-   å†™å…¥æ–¹å¼ä¸åŒï¼šredo log é‡‡ç”¨å¾ªç¯å†™çš„æ–¹å¼è®°å½•ï¼›binlog é€šè¿‡è¿½åŠ çš„æ–¹å¼è®°å½•ï¼Œå½“æ–‡ä»¶å¤§å°å¤§äºç»™å®šå€¼åï¼Œåç»­çš„æ—¥å¿—ä¼šè®°å½•åˆ°æ–°çš„æ–‡ä»¶ä¸Šã€‚
    
-   åˆ·ç›˜æ—¶æœºä¸åŒï¼šbin logåœ¨äº‹åŠ¡æäº¤æ—¶å†™å…¥ï¼›redo log åœ¨äº‹åŠ¡å¼€å§‹æ—¶å³å¼€å§‹å†™å…¥ã€‚
    

bin log ä¸ redo log åŠŸèƒ½å¹¶ä¸å†²çªè€Œæ˜¯èµ·åˆ°ç›¸è¾…ç›¸æˆçš„ä½œç”¨ï¼Œéœ€è¦äºŒè€…åŒæ—¶è®°å½•ï¼Œæ‰èƒ½ä¿è¯å½“æ•°æ®åº“å‘ç”Ÿå®•æœºé‡å¯æ—¶ï¼Œæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚

### 4\. relay logï¼ˆä¸­ç»§æ—¥å¿—ï¼‰

**relay log**æ—¥å¿—æ–‡ä»¶å…·æœ‰ä¸**bin log**æ—¥å¿—æ–‡ä»¶ç›¸åŒçš„æ ¼å¼ï¼Œä»ä¸Šè¾¹MySQLä¸»ä»å¤åˆ¶çš„æµç¨‹å¯ä»¥çœ‹å‡ºï¼Œ

**relay log**èµ·åˆ°ä¸€ä¸ªä¸­è½¬çš„ä½œç”¨ï¼Œ**slave**å…ˆä»ä¸»åº“**master**è¯»å–äºŒè¿›åˆ¶æ—¥å¿—æ•°æ®ï¼Œå†™å…¥ä»åº“æœ¬åœ°ï¼Œåç»­å†å¼‚æ­¥ç”±**SQLçº¿ç¨‹**è¯»å–è§£æ**relay log**ä¸ºå¯¹åº”çš„SQLå‘½ä»¤æ‰§è¡Œã€‚

### 5\. slow query log

æ…¢æŸ¥è¯¢æ—¥å¿—ï¼ˆ**slow query log**ï¼‰åœ¨ SQL ä¼˜åŒ–è¿‡ç¨‹ä¸­ä¼šç»å¸¸ä½¿ç”¨åˆ°ã€‚é€šè¿‡æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾å‡ºå“ªäº›æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œæ•ˆç‡ä½ï¼Œè€—æ—¶ä¸¥é‡ã€‚

MySQL çš„æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œç”¨æ¥è®°å½•åœ¨ MySQL ä¸­å“åº”æ—¶é—´è¶…è¿‡é˜€å€¼çš„è¯­å¥ï¼Œå…·ä½“æŒ‡è¿è¡Œæ—¶é—´è¶…è¿‡ long\_query\_time å€¼çš„ SQLï¼Œåˆ™ä¼šè¢«è®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­ã€‚long\_query\_time çš„é»˜è®¤å€¼ä¸º 10ï¼Œæ„æ€æ˜¯è¿è¡Œ 10 ç§’ä»¥ä¸Š (ä¸å« 10 ç§’) çš„è¯­å¥ï¼Œè®¤ä¸ºæ˜¯è¶…å‡ºäº†æˆ‘ä»¬çš„æœ€å¤§å¿è€æ—¶é—´å€¼ã€‚

å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ï¼Œå¸®åŠ©æˆ‘ä»¬å‘ç°é‚£äº›æ‰§è¡Œæ—¶é—´ç‰¹åˆ«é•¿çš„ SQL æŸ¥è¯¢ï¼Œå¹¶ä¸”æœ‰é’ˆå¯¹æ€§åœ°è¿›è¡Œä¼˜åŒ–ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„æ•´ä½“æ•ˆç‡ã€‚å½“æˆ‘ä»¬çš„æ•°æ®åº“æœåŠ¡å™¨å‘ç”Ÿé˜»å¡ã€è¿è¡Œå˜æ…¢çš„æ—¶å€™ï¼Œæ£€æŸ¥ä¸€ä¸‹æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œæ‰¾åˆ°é‚£äº›æ…¢æŸ¥è¯¢ï¼Œå¯¹è§£å†³é—®é¢˜å¾ˆæœ‰å¸®åŠ©ã€‚æ¯”å¦‚ä¸€æ¡ sq | æ‰§è¡Œè¶…è¿‡ 5 ç§’é’Ÿï¼Œæˆ‘ä»¬å°±ç®—æ…¢ SQLï¼Œå¸Œæœ›èƒ½æ”¶é›†è¶…è¿‡ 5 ç§’çš„ sqlï¼Œç»“åˆ explain è¿›è¡Œå…¨é¢åˆ†æã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒMySQL æ•°æ®åº“æ²¡æœ‰å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ¥è®¾ç½®è¿™ä¸ªå‚æ•°ã€‚å¦‚æœä¸æ˜¯è°ƒä¼˜éœ€è¦çš„è¯ï¼Œä¸€èˆ¬ä¸å»ºè®®å¯åŠ¨è¯¥å‚æ•°ï¼Œå› ä¸ºå¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ä¼šæˆ–å¤šæˆ–å°‘å¸¦æ¥ä¸€å®šçš„æ€§èƒ½å½±å“

å‡ºäºæ€§èƒ½æ–¹é¢çš„è€ƒè™‘ï¼Œä¸€èˆ¬åªæœ‰åœ¨æ’æŸ¥æ…¢SQLã€è°ƒè¯•å‚æ•°æ—¶æ‰ä¼šå¼€å¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ…¢æŸ¥è¯¢æ—¥å¿—åŠŸèƒ½æ˜¯å…³é—­çš„ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ï¼š  

```
mysql> SHOW VARIABLES LIKE 'slow_query%';+---------------------+--------------------------------------------------------+| Variable_name       | Value                                                  |+---------------------+--------------------------------------------------------+| slow_query_log      | OFF                                                    || slow_query_log_file | /usr/local/mysql/data/iZ2zebfzaequ90bdlz820sZ-slow.log |+---------------------+--------------------------------------------------------+
```

é€šè¿‡å¦‚ä¸‹å‘½ä»¤å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—åï¼Œæˆ‘å‘ç° **iZ2zebfzaequ90bdlz820sZ-slow.log** æ—¥å¿—æ–‡ä»¶é‡Œå¹¶æ²¡æœ‰å†…å®¹å•Šï¼Œå¯èƒ½å› ä¸ºæˆ‘æ‰§è¡Œçš„ SQL éƒ½æ¯”è¾ƒç®€å•æ²¡æœ‰è¶…è¿‡æŒ‡å®šæ—¶é—´ã€‚

```
mysql>  SET GLOBAL slow_query_log=ON;Query OK, 0 rows affected
```

ä¸Šè¾¹æåˆ°è¶…è¿‡ **æŒ‡å®šæ—¶é—´** çš„æŸ¥è¯¢è¯­å¥æ‰ç®—æ˜¯æ…¢æŸ¥è¯¢ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶é—´é˜ˆå€¼åˆæ˜¯å¤šå°‘å˜ï¼Ÿæˆ‘ä»¬é€šè¿‡ **long\_query\_time** å‚æ•°æ¥æŸ¥çœ‹ä¸€ä¸‹ï¼Œå‘ç°é»˜è®¤æ˜¯ 10 ç§’ã€‚

```
mysql>  SET GLOBAL slow_query_log=ON;Query OK, 0 rows affected
```

è¿™é‡Œæˆ‘ä»¬å°† **long\_query\_time** å‚æ•°æ”¹å°ä¸º 0.001ç§’å†æ¬¡æ‰§è¡ŒæŸ¥è¯¢SQLï¼Œçœ‹çœ‹æ…¢æŸ¥è¯¢æ—¥å¿—é‡Œæ˜¯å¦æœ‰å˜åŒ–ã€‚

```
mysql> SET GLOBAL long_query_time=0.001;Query OK, 0 rows affected
```

æœç„¶å†æ‰§è¡Œ SQL çš„æ—¶ï¼Œæ‰§è¡Œæ—¶é—´å¤§äº 0.001ç§’ï¼Œå‘ç°æ…¢æŸ¥è¯¢æ—¥å¿—å¼€å§‹è®°å½•äº†ã€‚

![å›¾ç‰‡](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### 6\. general query log

ä¸€èˆ¬æŸ¥è¯¢æ—¥å¿—ï¼ˆgeneral query logï¼‰ï¼š

MySQLæœåŠ¡å™¨ä¼šæŒ‰ç…§å®ƒæ¥æ”¶åˆ°è¯­å¥çš„å…ˆåé¡ºåºå†™å…¥æ—¥å¿—æ–‡ä»¶ã€‚

ç”±äºä¸€èˆ¬æŸ¥è¯¢æ—¥å¿—è®°å½•çš„å†…å®¹è¿‡äºè¯¦ç»†ï¼Œå¼€å¯å Log æ–‡ä»¶çš„ä½“é‡ä¼šéå¸¸åºå¤§ï¼Œ

æ‰€ä»¥å‡ºäºå¯¹æ€§èƒ½çš„è€ƒè™‘ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ—¥å¿—åŠŸèƒ½æ˜¯å…³é—­çš„ï¼Œ

é€šå¸¸ä¼šåœ¨æ’æŸ¥æ•…éšœéœ€è·å¾—è¯¦ç»†æ—¥å¿—çš„æ—¶å€™æ‰ä¼šä¸´æ—¶å¼€å¯ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ä¸€èˆ¬æŸ¥è¯¢æ—¥å¿—æ˜¯å¦å¼€å¯ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

```
mysql> show variables like 'general_log';+---------------+-------+| Variable_name | Value |+---------------+-------+| general_log   | OFF   |+---------------+-------+
```

ä¸‹è¾¹å¼€å¯ä¸€èˆ¬æŸ¥è¯¢æ—¥å¿—å¹¶æŸ¥çœ‹æ—¥å¿—å­˜æ”¾çš„ä½ç½®ã€‚

```
mysql> SET GLOBAL general_log=on;Query OK, 0 rows affectedmysql> show variables like 'general_log_file';+------------------+---------------------------------------------------+| Variable_name    | Value                                             |+------------------+---------------------------------------------------+| general_log_file | /usr/local/mysql/data/iZ2zebfzaequ90bdlz820sZ.log |+------------------+---------------------------------------------------+
```

æ‰§è¡Œä¸€æ¡æŸ¥è¯¢ SQL çœ‹çœ‹æ—¥å¿—å†…å®¹çš„å˜åŒ–ã€‚

```
mysql> select * from t_config;+---------------------+------------+---------------------+---------------------+| id                  | remark     | create_time         | last_modify_time    |+---------------------+------------+---------------------+---------------------+| 1325741604307734530 | æˆ‘æ˜¯å¹¿æ’­è¡¨ | 2020-11-09 18:06:44 | 2020-11-09 18:06:44 |+---------------------+------------+---------------------+---------------------+
```

æˆ‘ä»¬çœ‹åˆ°æ—¥å¿—å†…å®¹è¯¦ç»†çš„è®°å½•äº†æ‰€æœ‰æ‰§è¡Œçš„å‘½ä»¤ã€SQLã€SQLçš„è§£æè¿‡ç¨‹ã€æ•°æ®åº“è®¾ç½®ç­‰ç­‰ã€‚

![å›¾ç‰‡](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

### 7\. error log

é”™è¯¯æ—¥å¿—ï¼ˆ**error log**ï¼‰:

é”™è¯¯æ—¥å¿—ï¼ˆError Logï¼‰æ˜¯ MySQL ä¸­æœ€å¸¸ç”¨çš„ä¸€ç§æ—¥å¿—ï¼Œä¸»è¦è®°å½• MySQL æœåŠ¡å™¨å¯åŠ¨å’Œåœæ­¢è¿‡ç¨‹ä¸­çš„ä¿¡æ¯ã€æœåŠ¡å™¨åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„æ•…éšœå’Œå¼‚å¸¸æƒ…å†µç­‰ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥æ—¥å¿—åŠŸèƒ½æ˜¯å¼€å¯çš„ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥æ‰¾é”™è¯¯æ—¥å¿—æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ã€‚

```
mysql> SHOW VARIABLES LIKE 'log_error';+---------------+----------------------------------------------------------------+| Variable_name | Value                                                          |+---------------+----------------------------------------------------------------+| log_error     | /usr/local/mysql/data/LAPTOP-UHQ6V8KP.err |+---------------+----------------------------------------------------------------+
```

ä½œä¸ºåˆå­¦è€…ï¼Œè¦å­¦ä¼šåˆ©ç”¨é”™è¯¯æ—¥å¿—æ¥å®šä½é—®é¢˜ã€‚

ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé”™è¯¯æ—¥å¿—å­˜å‚¨åœ¨ MySQL æ•°æ®åº“çš„æ•°æ®æ–‡ä»¶å¤¹ä¸‹ï¼Œé€šå¸¸åç§°ä¸º hostname.errã€‚

å…¶ä¸­ï¼Œhostname è¡¨ç¤º MySQL æœåŠ¡å™¨çš„ä¸»æœºåã€‚

åœ¨ MySQL é…ç½®æ–‡ä»¶ä¸­ï¼Œé”™è¯¯æ—¥å¿—æ‰€è®°å½•çš„ä¿¡æ¯å¯ä»¥é€šè¿‡ log-error å’Œ log-warnings æ¥å®šä¹‰ï¼Œå…¶ä¸­ï¼Œlog-err å®šä¹‰æ˜¯å¦å¯ç”¨é”™è¯¯æ—¥å¿—åŠŸèƒ½å’Œé”™è¯¯æ—¥å¿—çš„å­˜å‚¨ä½ç½®ï¼Œlog-warnings å®šä¹‰æ˜¯å¦å°†è­¦å‘Šä¿¡æ¯ä¹Ÿè®°å½•åˆ°é”™è¯¯æ—¥å¿—ä¸­ã€‚

å°† log\_error é€‰é¡¹åŠ å…¥åˆ° MySQL é…ç½®æ–‡ä»¶çš„ \[mysqld\] ç»„ä¸­ï¼Œå½¢å¼å¦‚ä¸‹ï¼š

\[mysqld\]

log-error=dir/{filename}

å…¶ä¸­ï¼Œdir å‚æ•°æŒ‡å®šé”™è¯¯æ—¥å¿—çš„å­˜å‚¨è·¯å¾„ï¼›filename å‚æ•°æŒ‡å®šé”™è¯¯æ—¥å¿—çš„æ–‡ä»¶åï¼›çœç•¥å‚æ•°æ—¶æ–‡ä»¶åé»˜è®¤ä¸ºä¸»æœºåï¼Œå­˜æ”¾åœ¨ Data ç›®å½•ä¸­ã€‚

é‡å¯ MySQL æœåŠ¡åï¼Œå‚æ•°å¼€å§‹ç”Ÿæ•ˆï¼Œå¯ä»¥åœ¨æŒ‡å®šè·¯å¾„ä¸‹çœ‹åˆ° filename.err çš„æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®š filenameï¼Œé‚£ä¹ˆé”™è¯¯æ—¥å¿—å°†ç›´æ¥é»˜è®¤ä¸º hostname.errã€‚

æ³¨æ„ï¼šé”™è¯¯æ—¥å¿—ä¸­è®°å½•çš„å¹¶éå…¨æ˜¯é”™è¯¯ä¿¡æ¯ï¼Œä¾‹å¦‚ MySQL å¦‚ä½•å¯åŠ¨ InnoDB çš„è¡¨ç©ºé—´æ–‡ä»¶ã€å¦‚ä½•åˆå§‹åŒ–è‡ªå·±çš„å­˜å‚¨å¼•æ“ç­‰ï¼Œè¿™äº›ä¹Ÿè®°å½•åœ¨é”™è¯¯æ—¥å¿—æ–‡ä»¶ä¸­ã€‚

**æ³¨æ„**ï¼š

é”™è¯¯æ—¥å¿—ä¸­è®°å½•çš„å¯å¹¶éå…¨æ˜¯é”™è¯¯ä¿¡æ¯ï¼Œ

åƒ MySQL å¦‚ä½•å¯åŠ¨ `InnoDB` çš„è¡¨ç©ºé—´æ–‡ä»¶ã€å¦‚ä½•åˆå§‹åŒ–è‡ªå·±çš„å­˜å‚¨å¼•æ“ï¼Œåˆå§‹åŒ– `buffer pool` ç­‰ç­‰ï¼Œè¿™äº›ä¹Ÿè®°å½•åœ¨é”™è¯¯æ—¥å¿—æ–‡ä»¶ä¸­ã€‚

![å›¾ç‰‡](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

End

æ­¤çœŸé¢˜é¢è¯•é¢˜ï¼Œæ”¶å½•äºã€Šå°¼æ©Javaé¢è¯•å®å…¸ã€‹V30ç‰ˆ

![å›¾ç‰‡](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)

ç¡¬æ ¸é¢è¯•é¢˜æ¨è            

-   [**é˜¿é‡Œé¢è¯•é¢˜ï¼švolatile å¤ºå‘½ è¿ç¯ç‚® ï¼ç­”å®äº†å°±æŒ‚ï¼Œéå¸¸é‡è¦ï¼**](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247487598&idx=1&sn=1055d964f7711753169a6291c0781fc1&chksm=c142aaeaf63523fcd157149fa6c6afb5dd27bd71d403d8d6d00ab9731ff3831fb6f328a299e2&scene=21#wechat_redirect)  
    
-   å¤§å‚é¢è¯•é¢˜[ï¼šMysql æ™®é€šç´¢å¼•ã€å”¯ä¸€ç´¢å¼•ï¼Œåº•å±‚åŒºåˆ«ç«Ÿç„¶ è¿™ä¹ˆå¤§ ï¼ï¼](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247487420&idx=1&sn=3b8a36365443989ad52797fb3f256250&chksm=c142b538f6353c2e594ddb391cc17bdba02ba48b76529daa1f8ad7729502fa0b4dc37cb78b27&scene=21#wechat_redirect)
    
-   [æ¶æ„å¿…å¤‡ï¼š10WQPSè¶…é«˜å¹¶å‘æ¶æ„çš„10å¤§æ€æƒ³](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247486628&idx=1&sn=357b84473f56a599712dcd73db41e42a&chksm=c142b620f6353f363579b495110ef1e3984408d41fe848af9f035107c08928dd9fb865cd6051&scene=21#wechat_redirect)
    
-   [**å¦‚ä½•å†™ç®€å†ï¼š2023æ˜¥æ‹›ï¼Œè®©ç®€å† äººè§äººçˆ± çš„8å¤§ç»æ‹› | é™„100æ¨¡æ¿**](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247486482&idx=1&sn=c8509e44488590dcb0f4e5edd4308971&chksm=c142b696f6353f8026d20c8b6a609966c493377b6285e05749b16cd1c5f7c3f65209ccc3749e&scene=21#wechat_redirect)  
    
-   [**åœºæ™¯é¢˜ï¼šå‡è®¾10Wäººçªè®¿ï¼Œç³»ç»Ÿèƒ½ä¸crash å—ï¼Ÿ**](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247486423&idx=1&sn=fcab28ef08140f0ac5cdab03fb479582&chksm=c142b153f6353845112d7de1e060f44ac0ccb63abfbaddf1a3c3ce7fcc52f9574b4577888c2b&scene=21#wechat_redirect)  
    
-   [æ¯å¤©100wæ¬¡ç™»é™†è¯·æ±‚, 8G å†…å­˜è¯¥å¦‚ä½•è®¾ç½®JVMå‚æ•°ï¼Ÿæ¥çœ‹çœ‹å¹´è–ª100Wçš„æ¶æ„å¸ˆï¼Œæ˜¯æ€ä¹ˆé…ç½®çš„](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247486317&idx=1&sn=bb44e3c19cc77dd9fa117671fa5a2230&chksm=c142b1e9f63538ff54c6782f9a08ca67e7b06234e4cf7ed9c25c06ededdb190a892697e22fb8&scene=21#wechat_redirect)  
    

ç¡¬æ ¸æ–‡ç« æ¨è            

-   [**é¡¶çº§ã€ä¸€æµçš„Java è½®å­ é¡¹ç›®ï¼Œåœ¨è¿™ ï¼ï¼**](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247487615&idx=1&sn=7b7976f36dc5817678ca322e28501e58&chksm=c142aafbf63523edabc2693be63c472eaa7af87f95000e1c03f81cd222b6fa2770bd4b9870be&scene=21#wechat_redirect)  
    
-   [ä¸€ç›´å†™ä¸å¥½æŠ€æœ¯æ–¹æ¡ˆï¼ŒåŸæ¥æ˜¯ç¼ºä¸€ä»½å¥½æ¨¡æ¿ï¼å¤§å‚çš„é¡¶çº§æ¨¡æ¿ï¼ŒåŸæ¥åœ¨è¿™](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247487607&idx=1&sn=931ae314ea6bb6035ee8e6cfa9475e94&chksm=c142aaf3f63523e57b245ba1145e87d3cad095df9d9273d72dcbfc1781c9ed7b7ef3e4f205e8&scene=21#wechat_redirect)
    
-   [100wäººåœ¨çº¿çš„ å¼¹å¹• ç³»ç»Ÿï¼Œæ˜¯æ€ä¹ˆæ¶æ„çš„ï¼Ÿ](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247487578&idx=1&sn=1691379db2928ba49153f52f6fab950c&chksm=c142aadef63523c8b304d8e93687d85ce163043c8b4ef0c7c67ed9e473ec4df10f9871a0e197&scene=21#wechat_redirect)
    
-   [å³°å€¼21WQpsã€äº¿çº§DAUï¼Œå°æ¸¸æˆã€Šç¾Šäº†ä¸ªç¾Šã€‹æ˜¯æ€ä¹ˆæ¶æ„çš„ï¼Ÿ](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247487443&idx=1&sn=604f42dc056410ad03ee59878afe1ade&chksm=c142b557f6353c41107f7a62d1e8e73a483769a8f39cb780bec1fa778a624ad2fc7de44dc6ee&scene=21#wechat_redirect)
    
-   [**2ä¸ªå¤§å‚ 100äº¿çº§ è¶…å¤§æµé‡ çº¢åŒ… æ¶æ„æ–¹æ¡ˆ**](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247486998&idx=1&sn=24df4a3223bb8e71dc26e84827bbbe00&chksm=c142b492f6353d8449d1f354574f534cde70a308b25453e7922137df7d2fab3c2f2dda77eef7&scene=21#wechat_redirect)
    
-   [ä¸€æ–‡ç§’æ‡‚ï¼šå¤šçº§æ—¶é—´è½®ï¼Œæœ€é¡¶å°–çš„Javaè°ƒåº¦ç®—æ³•](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247485259&idx=1&sn=68763802596d99698d3956386b2d263e&chksm=c142bdcff63534d97f08725e20e217238266bebe0e11e73f9db848acd337cc6e3bdd0ab8b549&scene=21#wechat_redirect)  
    
-   [ä¸€æ–‡ææ‡‚ï¼šç¼“å­˜ä¹‹ç‹ Caffeine æ¶æ„ã€æºç ã€åŸç†ï¼ˆ5Wé•¿æ–‡ï¼‰](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247485218&idx=1&sn=125af2a5f356e97dd1bb939616ce9016&chksm=c142bda6f63534b0540412fef91513a33e7a0f1ecde60572618a970a2c9ae1b6ebae51416e24&scene=21#wechat_redirect)
    

ç¡¬æ ¸ç”µå­ä¹¦            

[**ğŸ‘**](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247484558&idx=4&sn=ace256db11ca343c860527c30492b0ad&chksm=c142be0af635371cd87a94318246353cfa1fe3a38910e186e42796c351d17d00024b10776095&scene=21#wechat_redirect)ã€Š[å°¼æ©Javaé¢è¯•å®å…¸](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247484558&idx=3&sn=3c498b0f8e3897e899acf154ad1ac8ee&chksm=c142be0af635371c06b830243517aae063e23814195df1cc75ab2123c5b3ab9cb1217cbd80e3&scene=21#wechat_redirect)ã€‹ï¼ˆæè‡´ç»å…¸ï¼Œä¸æ–­å‡çº§ï¼‰**å…¨ç½‘ä¸‹è½½è¶…è¿‡300ä¸‡æ¬¡**

[**ğŸ‘**](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247484558&idx=4&sn=ace256db11ca343c860527c30492b0ad&chksm=c142be0af635371cd87a94318246353cfa1fe3a38910e186e42796c351d17d00024b10776095&scene=21#wechat_redirect)å°¼æ©Javaé«˜å¹¶å‘ä¸‰éƒ¨æ›²ï¼š**å…¨ç½‘ä¸‹è½½è¶…è¿‡200ä¸‡æ¬¡**

-   [**ğŸ‘**](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247484558&idx=4&sn=ace256db11ca343c860527c30492b0ad&chksm=c142be0af635371cd87a94318246353cfa1fe3a38910e186e42796c351d17d00024b10776095&scene=21#wechat_redirect)ã€Š[Javaé«˜å¹¶å‘æ ¸å¿ƒç¼–ç¨‹-å·1ï¼ˆåŠ å¼ºç‰ˆï¼‰](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247484558&idx=2&sn=9bc00924281da1785fe3f472e59eb035&chksm=c142be0af635371c77541a6634875fde3a7e6f512501e0a9de2e73b67e9d447d6b5e73b713f4&scene=21#wechat_redirect)ã€‹ï¼Œä¸æ–­å‡çº§
    
-   [**ğŸ‘**](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247484558&idx=4&sn=ace256db11ca343c860527c30492b0ad&chksm=c142be0af635371cd87a94318246353cfa1fe3a38910e186e42796c351d17d00024b10776095&scene=21#wechat_redirect)ã€Š[Javaé«˜å¹¶å‘æ ¸å¿ƒç¼–ç¨‹-å·2ï¼ˆåŠ å¼ºç‰ˆï¼‰](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247484558&idx=2&sn=9bc00924281da1785fe3f472e59eb035&chksm=c142be0af635371c77541a6634875fde3a7e6f512501e0a9de2e73b67e9d447d6b5e73b713f4&scene=21#wechat_redirect)ã€‹ï¼Œä¸æ–­å‡çº§
    
-   **ğŸ‘**ã€Š[Javaé«˜å¹¶å‘æ ¸å¿ƒç¼–ç¨‹-å·3ï¼ˆåŠ å¼ºç‰ˆï¼‰](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247484558&idx=2&sn=9bc00924281da1785fe3f472e59eb035&chksm=c142be0af635371c77541a6634875fde3a7e6f512501e0a9de2e73b67e9d447d6b5e73b713f4&scene=21#wechat_redirect)ã€‹ï¼Œä¸æ–­å‡çº§
    

[**ğŸ‘**ã€Šé¡¶çº§3é«˜æ¶æ„è¡Œä¸šæ¡ˆä¾‹ + å°¼æ©æ¶æ„ç¬”è®° ã€‹N ç¯‡+](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247484558&idx=4&sn=ace256db11ca343c860527c30492b0ad&chksm=c142be0af635371cd87a94318246353cfa1fe3a38910e186e42796c351d17d00024b10776095&scene=21#wechat_redirect)ï¼Œä¸æ–­æ·»åŠ 

[**ğŸ‘**](http://mp.weixin.qq.com/s?__biz=MzkxNzIyMTM1NQ==&mid=2247484558&idx=4&sn=ace256db11ca343c860527c30492b0ad&chksm=c142be0af635371cd87a94318246353cfa1fe3a38910e186e42796c351d17d00024b10776095&scene=21#wechat_redirect)100ä»½ç®€å†æ¨¡æ¿

![å›¾ç‰‡](data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='1px' height='1px' viewBox='0 0 1 1' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%3C/title%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0'%3E%3Cg transform='translate(-249.000000, -126.000000)' fill='%23FFFFFF'%3E%3Crect x='249' y='126' width='1' height='1'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E)